<nav class="navbar navbar-light d-flex flex-column position-fixed h-100 justify-content-between align-items-center container m-auto">
  <div class="row">
    <!-- Logo -->
    <div class="col d-flex justify-content-center align-items-center mt-3">
      <img src="/assets/logo-no-back.svg" alt="logo-no-background" class="img-fluid align-self-start" width="50px"/>
    </div>

    <!-- Icona Home -->
    <div class="col-12 d-flex align-items-center">
      <button class="btn border-0 shadow-none mt-4 m-auto" ngbTooltip="Home" placement="right" routerLink="/">
        <ng-icon [name]="isHome ? 'heroHomeSolid' : 'heroHome'" class="text-green-500" style="width: 30px; height: 30px"></ng-icon>
      </button>
    </div>
    
    <!-- Icona Cocktails -->
    <div class="col-12 d-flex align-items-center">
      <button class="btn border-0 shadow-none mt-4 m-auto" ngbTooltip="Cocktails" placement="right" routerLink="/cocktails">
        <svg *ngIf="isCocktails" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" style="width: 30px; height: 30px;">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3h10.5M6.75 3l1.5 15a1.5 1.5 0 001.49 1.35h4.52a1.5 1.5 0 001.49-1.35l1.5-15M6.75 3h10.5M8.25 8h7.5" />
        </svg>

        <!-- Icona normale -->
        <svg *ngIf="!isCocktails" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" style="width: 30px; height: 30px;">
          <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3h10.5M6.75 3l1.5 15a1.5 1.5 0 001.49 1.35h4.52a1.5 1.5 0 001.49-1.35l1.5-15M6.75 3h10.5M8.25 8h7.5" />
        </svg>
      </button>
    </div>


    <!-- Icona Esplora -->
    <div class="col-12 d-flex align-items-center">
      <button class="btn border-0 shadow-none mt-4 m-auto" ngbTooltip="Places" placement="right" routerLink="/places">
        <ng-icon [name]="isPlaces ? 'heroMapPinSolid' : 'heroMapPin'" style="width: 30px; height: 30px;"></ng-icon>
      </button>
    </div>

    <!-- Icona Aggiungi Recensione -->
    <div class="col-12 d-flex align-items-center">
      <button class="btn border-0 shadow-none mt-4 m-auto" ngbTooltip="Add review" placement="right" routerLink="/add-review">
        <ng-icon [name]="isAddReview ? 'heroChatBubbleOvalLeftSolid' : 'heroChatBubbleOvalLeft'" class="text-green-500" style="width: 30px; height: 30px"></ng-icon>
      </button>
    </div>

    <!-- Icona Aggiungi Drink -->
    <div class="col-12 d-flex align-items-center">
      <button class="btn border-0 shadow-none mt-4 m-auto" ngbTooltip="Add cocktail" placement="right" routerLink="/add-cocktail">
        <ng-icon [name]="isAddCocktail ? 'heroPlusCircleSolid' : 'heroPlusCircle'" class="text-green-500" style="width: 30px; height: 30px"></ng-icon>
      </button>
    </div>
  </div>

 


  <!-- Contenuto Navbar -->
  <div id="navbarSupportedContent" class="row d-flex flex-column justify-content-end">

    <!-- Icona utente (se autenticato) -->
    <div *ngIf="isAuthenticated" class="position-relative dropdown dropend mb-3">
      <button class="btn p-0 border-0 shadow-none" [class.show]="showDropdown" (click)="toggleDropdown()" type="button" aria-expanded="false" ngbTooltip="Profile" placement="right">
        <app-user-image>
        </app-user-image>
      </button>
    
      <ul class="dropdown-menu show" [ngStyle]="{ display: showDropdown ? 'block' : 'none', top: '-70px', left: '100%' }" style="position: absolute;">
        <li><a class="dropdown-item" (click)="navigateToProfile()">Profilo</a></li>
        <li><a class="dropdown-item" routerLink="/my-drinks">I miei drink</a></li>
        <li><hr class="dropdown-divider" /></li>
        <li><a class="dropdown-item" (click)="onLogout()">Logout</a></li>
      </ul>
    </div>

    <!-- Icona utente (se non autenticato) -->
    <div *ngIf="!isAuthenticated" class="mb-3">
      <button (click)="toggleLoginForm()" class="btn p-0 border-0 shadow-none" ngbTooltip="Login" placement="right">
        <ng-icon name="heroUserCircle" class="text-green-500" style="width: 50px; height: 50px"></ng-icon>
      </button>
    </div>
  </div>
</nav>

<!-- Overlay per il login -->
<div *ngIf="showLoginForm" class="overlay" (click)="toggleLoginForm()">
  <div class="login-form-container position-relative" (click)="$event.stopPropagation()">
    <app-login-form 
    *ngIf="!showRegisterForm"
    (loginSuccess)="onLoginSuccess()" 
    (closeForm)="toggleLoginForm()"
    (switchToRegister)="showRegisterForm = true">
  </app-login-form>
  <app-register-form
    *ngIf="showRegisterForm"
    (registerSuccess)="onRegisterSuccess()"
    (closeForm)="toggleLoginForm()"
    (switchToLogin)="showRegisterForm = false">
  </app-register-form>
  </div>
</div>
